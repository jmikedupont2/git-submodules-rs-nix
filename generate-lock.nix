{description = "Temporary flake to generate Cargo.lock";inputs = {nixpkgs.url = "github.NixOS/nixpkgs/nixpkgs-unstable";fenix.url = "github.com:nix-community/fenix";fenix.inputs.nixpkgs.follows = "nixpkgs";};outputs = { self, nixpkgs, fenix }:let system = "aarch64-linux"; pkgs = import nixpkgs {inherit system;overlays = [ fenix.overlays.default ];};toolchain = pkgs.fenix.toolchain-nightly;in {packages.${system}.default = pkgs.runCommand "generate-cargo-lock" {src = ./.;buildInputs = [ toolchain pkgs.git ];passAsFile = [ "src" ];} ''cp -r $srcPath .export CARGO_HOME=$TMPDIR/.cargo;mkdir -p $CARGO_HOME${toolchain}/bin/cargo generate-lockfile --manifest-path Cargo.tomlcp Cargo.lock $out'';};}